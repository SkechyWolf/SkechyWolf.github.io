import { getCustomProperty as e, incrementCustomProperty as t, setCustomProperty as i } from "./updateCustomProperty.js"; let tiusElem = document.querySelector("[data-tius]"), JUMP_SPEED = .45, GRAVITY = .0015, TIUS_FRAME_COUNT = 2, FRAME_TIME = 100, isJumping, tiusFrame, currentFrameTime, yVelocity; export function setupTius() { isJumping = !1, tiusFrame = 0, currentFrameTime = 0, yVelocity = 0, i(tiusElem, "--bottom", 0), document.removeEventListener("keydown", onJump), document.addEventListener("keydown", onJump) } export function updateTius(e, t) { handleRun(e, t), handleJump(e) } export function getTiusRect() { return tiusElem.getBoundingClientRect() } export function setTiusLose() { tiusElem.src = "../Public/images/game/tius-lose.png" } function handleRun(e, t) { if (isJumping) { tiusElem.src = "../Public/images/game//tius-stationary.png"; return } currentFrameTime >= 100 && (tiusFrame = (tiusFrame + 1) % 2, tiusElem.src = `../Public/images/game/tius-run-${tiusFrame}.png`, currentFrameTime -= 100), currentFrameTime += e * t } function handleJump(u) { isJumping && (t(tiusElem, "--bottom", yVelocity * u), 0 >= e(tiusElem, "--bottom") && (i(tiusElem, "--bottom", 0), isJumping = !1), yVelocity -= .0015 * u) } function onJump(e) { "Space" !== e.code || isJumping || (yVelocity = .45, isJumping = !0) }